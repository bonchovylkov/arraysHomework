<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Loops - while loop</title>
	<link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <span>Enter an array of numbers, sepatared by "," !</span>
	<input type="text" id="tb-number" />
	<a href="#" id="btn-check-prime" onclick="findTheSubset()">Find the longest subset of equal and consecutive elements</a>
	<div id="js-console">
	</div>
	<script src="scripts/js-console.js">	  
	</script>
	<script>
		

	    function findTheSubset() {

			var arrayString = jsConsole.readString("#tb-number");
			var arrayInt = arrayString.split(',');
			for (var i in arrayInt) {
			    arrayInt[i] = parseInt(arrayInt[i], 10);
			}
			var currentCount = 1;
			var finalCount = 1;
			var currentElement = 0;
			var finalElement = 0;
			for (var i = 0; i < arrayInt.length - 1; ) {
			    currentCount = 1;
			    var currentIndex = i;
			    while (arrayInt[currentIndex]== arrayInt[currentIndex + 1]) {
			        currentCount++;
			        currentIndex++;
			        currentElement = arrayInt[i];
			    }
			    i += currentCount;
			    if (currentCount>finalCount) {
			        finalCount = currentCount;
			        finalElement = currentElement;
			    }
			}
			if (finalCount==1) {
			    jsConsole.writeLine("{"+arrayInt[0]+"}");
			}
			else {
			    for (var i = 0; i < finalCount; i++) {
			        if (i == 0) {
			            jsConsole.write("{" + finalElement + ",");
			        }
			        else if (i < finalCount - 1) {
			            jsConsole.write(finalElement + ",");
			        }
			        else {
			            jsConsole.write(finalElement + "}");
			        }

			    }
			}
			

			jsConsole.writeLine();
		}


	</script>
</body>
</html>
